<!DOCTYPE html>
<pre id="output"></pref>
<script>
    var output = document.getElementById('output');

    var strings = [['E'],['B'],['G'],['D'],['A'],['E']];
    var fretCount = 24;
    var scale = ['C','C#/Db','D','D#/Eb','E','F','F#/Gb','G','G#/Ab','A','A#/Bb','B'];
    var modes = {
        'ionian': [2, 2, 1, 2, 2, 2], // major
        'dorian': [2, 1, 2, 2, 2, 1],
        'phrygian': [1, 2, 2, 2, 1, 2],
        'lydian': [2, 2, 2, 1, 2, 2],
        'mixolydian': [2, 2, 1, 2, 2, 1],
        'aeolian': [2, 1, 2, 2, 1, 2], // nat. minor
        'locrian': [1, 2, 2, 1, 2, 2],

        'acoustic': [2, 2, 2, 1, 2, 1],
        'algerian': [2, 1, 3, 1, 1, 3],
        'altered': [1, 2, 1, 2, 2, 2]
    }

    var fullStrings = strings.map(function(string) {
        var start = scale.indexOf(string[0]);
        var items = [scale[start]];
        for (var i = 0; i < fretCount; ++i) {
            items.push(scale[(start + i + 1) % scale.length]);
        }
        return items;
    })

    var scaleNotes = modes['phrygian'].reduce(function(result, step) {
        var lastNote = scale.indexOf(result[result.length - 1]);
        return result.concat([scale[(lastNote + step) % scale.length]]);
    }, ['C']);

    var scaleStrings = fullStrings.map(function(string) {
        return string.map(function(note) {
            return (scaleNotes.indexOf(note) !== -1) ? note : "";
        });
    });
    
    output.innerHTML = scaleStrings.map(function(string) {
        return string.map(function(note) {
            return note + Array(5 - note.length + 1).join(' ');
        }).join('|');
    }).join('\n' + Array((fretCount + 1) * 6).join('-') + '\n');

</script>
